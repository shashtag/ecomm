(this.webpackJsonpkalafax=this.webpackJsonpkalafax||[]).push([[15],{345:function(e,t,a){"use strict";a.r(t);var i=a(24),c=a(3),n=a(84),o=a(27),r=a(29),s=a(45),d=a(148),l=a(14),p=a.n(l),u=a(0),b=a(19),j=a(66),f=a(18),m=a(20),h=a(10),g=a(198),x=a(258),O=a(199),y=a(254),_=a(200),v=a(94),w=a(342),k=a(113),C=a(108),S=a(1),I=Object(n.a)((function(e){return{root:{},media:{aspectRatio:"3/4",filter:"drop-shadow(1.18902px 4.7561px 17.8354px rgba(58, 58, 58, 0.15))",backgroundSize:"contain"}}})),H=function(e){var t=Object(u.useContext)(f.a),a=t.setLoading,c=t.setSnackbar,n=Object(u.useState)(!0),d=Object(h.a)(n,2),l=d[0],p=d[1],b=Object(u.useState)("0.00"),H=Object(h.a)(b,2),T=H[0],M=H[1],D=I(),A=Object(o.a)(),B=Object(u.useState)(e.quantity),E=Object(h.a)(B,2),q=E[0],F=E[1],R=Object(g.a)(A.breakpoints.up("md")),P=Object(u.useContext)(j.a),L=P.selectedItems,z=P.setSelectedItems;Object(u.useEffect)((function(){return M(q*e.price),function(){}}),[q,e.price]),Object(u.useEffect)((function(){var t=Object(m.a)(L),a=t.indexOf(e.id);return l||-1!==a&&(t.splice(a,1),z(t)),l&&(t.push(e.id),z(t)),function(){}}),[l]);for(var W=[],Z=1;Z<=e.stock;Z++)W.push({title:String(Z)});return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(r.a,{container:!0,justify:"center",alignItems:"center",item:!0,xs:2,md:1,children:Object(S.jsx)(x.a,{checked:0!==e.stock&&l,disabled:0===e.stock,onChange:function(){return p(!l)},color:"secondary",inputProps:{"aria-label":"secondary checkbox"}})}),Object(S.jsx)(r.a,{item:!0,xs:10,md:11,children:Object(S.jsx)(O.a,{style:{padding:A.spacing(3),borderRadius:"0",boxShadow:"2px 6px 20px rgba(58, 58, 58, 0.15)"},children:Object(S.jsxs)(r.a,{container:!0,spacing:2,children:[Object(S.jsx)(r.a,{item:!0,md:3,children:Object(S.jsx)(y.a,{component:"img",loading:"lazy",height:"auto",width:" 100%",className:D.media,image:null===e||void 0===e?void 0:e.img,title:"Paella dish"})}),Object(S.jsx)(r.a,{item:!0,md:8,children:Object(S.jsx)(r.a,{item:!0,children:Object(S.jsxs)(_.a,{style:{padding:R?null:"0"},children:[Object(S.jsx)(s.a,{variant:"h4",style:{marginBottom:A.spacing(1)},children:e.name}),Object(S.jsx)(s.a,{variant:"h6",style:{marginBottom:A.spacing(2),color:"#40567A"},children:e.category}),Object(S.jsx)(s.a,{onClick:function(){Object(k.a)(e.id,a,c)},variant:"h6",style:{cursor:"pointer",marginBottom:A.spacing(2),color:A.palette.error.main},children:"Delete"}),Object(S.jsxs)(r.a,{container:!0,item:!0,alignItems:"center",style:{marginBottom:A.spacing(3)},children:[Object(S.jsx)(w.a,{getOptionSelected:function(e,t){return e.title===t.title},value:{title:String(q)},style:{},options:W,getOptionLabel:function(e){return e.title},classes:{inputRoot:D.inproot},onChange:function(t,i){!function(t){var i={quantity:null===t||void 0===t?void 0:t.title};F(null===t||void 0===t?void 0:t.title),Object(C.b)(i,e.id,a,c)}(i)},renderInput:function(e){return Object(S.jsx)(v.a,Object(i.a)(Object(i.a)({},e),{},{style:{marginTop:A.spacing(1),width:"160px"},label:"Quantity",name:"quantity",color:"secondary",InputLabelProps:{shrink:!0},placeholder:"",variant:"filled"}))}}),Object(S.jsx)(r.a,{item:!0,xs:12,md:6,children:Object(S.jsxs)(s.a,{variant:"h2",style:{fontWeight:"bold",marginLeft:R?A.spacing(2):null,marginTop:A.spacing(1)},children:["\u20b9 ",T]})})]})]})})})]})})})]})},T=a(13),M=Object(n.a)((function(e){return{root:Object(c.a)({padding:"".concat(e.spacing(6),"px 15px"),minHeight:"100vh"},e.breakpoints.up("md"),{padding:"".concat(e.spacing(6),"px 3.2%")})}}));t.default=function(){var e=Object(o.a)(),t=M(),a=Object(u.useContext)(f.a).setLoading,c=Object(u.useContext)(j.a),n=c.cartItem,l=c.selectedItems,m=c.setSelectedItems,h=c.setCartItem;return Object(u.useEffect)((function(){a(!0);var e={method:"get",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_URL,"orders/view/cart/"),headers:{Authorization:"Token ".concat(localStorage.getItem("Token"))}};return p()(e).then((function(e){a(!1),h(e.data.results)})).catch((function(e){a(!1),h([{op_id:"eef49ec7-77bd-4e7f-9733-b7118fb4bf0e",product:{pid:"5f6b92be-ed0d-44cc-a328-560136d0e581",name:"Cool CodeChef Band",artist:1,description:"It is what it is",category:"accessories",subcategory:"bands",original_price:"500.00",kalafex_price:"525.00",display_image:"https://images.unsplash.com/photo-1541367777708-7905fe3296c0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjZ8fGFydHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60",discount_price:null,stock_left:5},quantity:2,ordered:!1,date_created:"2021-04-25T17:06:54.365737Z",user:2,order:null},{op_id:"438d80ad-a529-4bb4-a89f-260754ae84a5",product:{pid:"5f6b92be-ed0d-44cc-a328-560136d0e581",name:"Cool CodeChef Band",artist:1,description:"It is what it is",category:"accessories",subcategory:"bands",original_price:"500.00",kalafex_price:"525.00",display_image:"https://images.unsplash.com/photo-1501472312651-726afe119ff1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjR8fGFydHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60",discount_price:null,stock_left:5},quantity:2,ordered:!1,date_created:"2021-04-25T17:06:52.659730Z",user:2,order:null},{op_id:"b532465b-a4a2-4b3d-a0c4-bd9eac9e6ffc",product:{pid:"5f6b92be-ed0d-44cc-a328-560136d0e581",name:"Cool CodeChef Band",artist:1,description:"It is what it is",category:"accessories",subcategory:"bands",original_price:"500.00",kalafex_price:"525.00",display_image:"https://plus.unsplash.com/premium_photo-1664811569206-83cc64fdb676?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjV8fGFydHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60",discount_price:null,stock_left:5},quantity:2,ordered:!1,date_created:"2021-04-03T13:31:40.822395Z",user:2,order:"e98c5b5b-2f65-4b3b-8697-47bd10b8f260"}])})),function(){}}),[]),Object(u.useEffect)((function(){return m(n?n.map((function(e){return e.op_id})):[]),function(){}}),[n]),localStorage.getItem("Token")?Object(S.jsxs)(r.a,{container:!0,direction:"column",className:t.root,spacing:2,children:[Object(S.jsx)(r.a,{item:!0,xs:12,children:Object(S.jsx)(s.a,{variant:"h4",style:{marginBottom:e.spacing(4)},children:"Your cart"})}),Object(S.jsxs)(r.a,{container:!0,item:!0,direction:"row",children:[0===(null===n||void 0===n?void 0:n.length)?Object(S.jsx)("div",{style:{minHeight:"50vh",display:"grid",placeItems:"center",height:"100%",width:"100%"},children:Object(S.jsx)(s.a,{variant:"h1",align:"center",style:{opacity:"0.3"},children:"No Items Found"})}):null,n.map((function(e,t){return Object(S.jsx)(H,{id:e.op_id,name:e.product.name,pid:e.pid,quantity:e.quantity,category:e.product.category,img:e.product.display_image,price:e.product.kalafex_price,stock:e.product.stock_left},t)}))]}),0!==n.length?Object(S.jsxs)(r.a,{container:!0,item:!0,children:[Object(S.jsx)(r.a,{item:!0,xs:2,md:1}),Object(S.jsx)(r.a,{item:!0,xs:10,md:11,children:Object(S.jsx)(d.a,{disabled:!Boolean(l.length),component:T.b,to:"/selectAddress",variant:"contained",size:"large",color:"secondary",type:"submit",style:Object(i.a)(Object(i.a)({},e.palette.background.gradient),{},{width:"100%",marginTop:e.spacing(1),padding:"16px 24px"}),children:Object(S.jsx)(s.a,{variant:"h5",children:"Proceed to Checkout"})})})]}):null]}):Object(S.jsx)(b.a,{to:"/login"})}}}]);
//# sourceMappingURL=15.011718cb.chunk.js.map