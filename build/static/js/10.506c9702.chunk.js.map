{"version":3,"sources":["components/Products.js","pages/Search.js"],"names":["Products","props","data","map","i","_jsx","Product","name","img","display_image","pid","artist","category","subcategory","price","kalafex_price","useStyles","makeStyles","theme","root","_defineProperty","padding","paddingBottom","spacing","marginTop","minHeight","breakpoints","up","Search","_products$results","_trendingOnPage$resul","classes","page","useParams","query","_useState","useState","_useState2","_slicedToArray","products","setProducts","useTheme","history","useHistory","_useContext","useContext","UIContext","setLoading","trendingProducts","setSnackbar","_useState3","_useState4","trendingOnPage","setTrendingOnPage","_useState5","Number","_useState6","pagination","setPagination","useEffect","trending","fetchTrendingProducts","fetchSearch","_jsxs","Grid","container","className","children","item","Typography","variant","results","length","style","display","placeItems","height","width","align","opacity","xs","justify","Pagination","size","count","total_pages","onChange","event","value","push","concat","shape"],"mappings":"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","file":"static/js/10.506c9702.chunk.js","sourcesContent":["import React from \"react\";\nimport Product from \"./Product\";\n\nconst Products = (props) => {\n  // console.log(props);\n  return props.data.map((data, i) => (\n    <Product\n      name={data.name}\n      img={data.display_image}\n      pid={data.pid}\n      artist={data.artist}\n      category={data.category}\n      subcategory={data.subcategory}\n      price={data.kalafex_price}\n      key={i}\n    />\n  ));\n};\n\nexport default Products;\n","import { Grid, makeStyles, Typography, useTheme } from \"@material-ui/core\";\nimport { Pagination } from \"@material-ui/lab\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router\";\nimport { fetchSearch, fetchTrendingProducts } from \"../API/Get\";\nimport Products from \"../components/Products\";\nimport { UIContext } from \"../Context/UIContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: \"0 15px\",\n    paddingBottom: theme.spacing(20),\n    marginTop: theme.spacing(4),\n    minHeight: \"100vh\",\n    [theme.breakpoints.up(\"md\")]: {\n      padding: \"0vh 3.2%\",\n      paddingBottom: theme.spacing(20),\n    },\n  },\n}));\n\nconst Search = (props) => {\n  const classes = useStyles();\n  const { page } = useParams();\n  // console.log(page);\n\n  const { query } = useParams();\n  const [products, setProducts] = useState(null);\n  const theme = useTheme();\n  const history = useHistory();\n  const { setLoading, trendingProducts, setSnackbar } = useContext(UIContext);\n  const [trendingOnPage, setTrendingOnPage] = useState(null);\n  const [pagination, setPagination] = useState(page ? Number(page) : 1);\n\n  const handlePageChange = (event, value) => {\n    setPagination(value);\n\n    if (props.trending) {\n      if (value !== 1) {\n        history.push(`/trending/${value}`);\n      } else {\n        history.push(`/trending`);\n      }\n    }\n    if (!props.trending) {\n      if (value !== 1) {\n        history.push(`/search/${query}/${value}`);\n      } else {\n        history.push(`/search/${query}/`);\n      }\n    }\n  };\n\n  useEffect(() => {\n    setPagination(page ? page : 1);\n    if (props.trending) {\n      if (page) {\n        fetchTrendingProducts(page, setTrendingOnPage, setLoading, setSnackbar);\n      }\n    }\n\n    return () => {};\n  }, [page]);\n\n  useEffect(() => {\n    if (!props.trending) {\n      fetchSearch(query, page, setProducts, setLoading);\n    }\n    return () => {};\n  }, [query, page]);\n\n  if (!products && !trendingProducts && !trendingOnPage) {\n    return <div style={{ height: \"80vh\" }}></div>;\n  }\n\n  // console.log(trendingOnPage);\n  return (\n    <Grid container className={classes.root}>\n      <Grid item>\n        <Typography variant='h3'>\n          {!props.trending ? query : \"Trending\"}\n        </Typography>\n      </Grid>\n      {products?.results?.length === 0 ||\n      trendingOnPage?.results?.length === 0 ||\n      trendingProducts?.results.length === 0 ? (\n        <div\n          style={{\n            minHeight: \"50vh\",\n            display: \"grid\",\n            placeItems: \"center\",\n            height: \"100%\",\n            width: \"100%\",\n          }}>\n          <Typography variant='h1' align='center' style={{ opacity: \"0.3\" }}>\n            No Items Found\n          </Typography>\n        </div>\n      ) : null}\n      <Grid container item spacing={2} style={{ padding: theme.spacing(2, 0) }}>\n        {props.trending ? (\n          !page ? (\n            <Products data={trendingProducts?.results} />\n          ) : trendingOnPage ? (\n            <Products data={trendingOnPage?.results} />\n          ) : null\n        ) : products ? (\n          <Products data={products?.results} />\n        ) : null}\n      </Grid>\n      <Grid container item xs={12} justify='center'>\n        <Pagination\n          style={{ marginTop: theme.spacing(4) }}\n          size='large'\n          count={\n            trendingOnPage?.total_pages ||\n            products?.total_pages ||\n            trendingProducts?.total_pages\n          }\n          page={Number(pagination)}\n          onChange={handlePageChange}\n          variant='outlined'\n          shape='rounded'\n        />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Search;\n"],"sourceRoot":""}